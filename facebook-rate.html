<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml" xml:lang="en-us" lang="en-us">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>RODCAST</title>

	<meta name="viewport" content="width=device-width">
</head>
<body>

  <a href="#" id="go">GO</a>
  <div id="fb-root"></div>
  
  <script src="https://connect.facebook.net/en_US/all.js"></script>
  <script src="http://code.jquery.com/jquery-1.8.1.min.js"></script>
  <script>
    $(function(){
		FB.init({
		  appId: '420083701382995',
		  status: true,
		  cookie: true,
		  xfbml: true,
		  oauth: true
		});

		function authFacebookAccount() {
			  FB.login(function(response) {
				console.log('FB.login');
			  });
		}
	
		function getMyGender() {
		  FB.api('/me', function (response) {
			getFriendsList(response.gender);
		  });
		}
	
		function getFriendsList(mygender) {
		  FB.api('/me/friends', function (response) {
			for (var i = 0, L = response.data.length; i < L; i++) {
			  showAnotherGenFriends(mygender, response.data[i]);
			}
		  });
		}
	
		function showAnotherGenFriends(mygender, fInfo){
		  var fid = fInfo.id;
		  var fpicUrl = 'https://graph.facebook.com/'+fid+'/picture?type=large';
		  FB.api(fid, function (response) {
			if (response.gender != mygender) {
			  var img = $('<img src="' + fpicUrl + '"><br>');
			  $('#friend_section').append(img);
			}
		  });
		}
		
		function setEvents() {
			$("#go").on('click', function(){ 
				authFacebookAccount();
				
				return false;
			 });
		}
		
		setEvents();
    });
  </script>

</body>
</html>